<md-toolbar color="primary">
  <button md-icon-button [hidden]="!authService.isAuthenticated()" class="menu-button" (click)="sidenav.toggle()"><md-icon>menu</md-icon></button>
  <span>Olaf</span>
  <span class="spacer"></span>
  <span *ngIf="authService.user">{{ authService.user.name }}</span>
  <button md-icon-button [hidden]="!authService.isAuthenticated()" [mdMenuTriggerFor]="menu" txtright>
    <md-icon>more_vert</md-icon>
  </button>
  <md-menu #menu="mdMenu">
    <button md-menu-item  (click)="changePassword()">
      <md-icon>vpn_key</md-icon>
      <span>Changer de mot de passe</span>
    </button>
    <button md-menu-item routerLink="/login">
      <md-icon>lock</md-icon>
      <span>Déconnexion</span>
    </button>
  </md-menu>
</md-toolbar>

<md-sidenav-container class="olaf-menu">
  <md-sidenav #sidenav mode="side" opened="true" [hidden]="!authService.isAuthenticated()">
    <md-card>
      <button md-menu-item>
        <md-icon>tv</md-icon>
        <span>Télécommande</span>
      </button>
      <button md-menu-item routerLink="/">
        <md-icon>wb_sunny</md-icon>
        <span>Météo</span>
      </button>
      <button md-menu-item routerLink="/camera">
        <md-icon>linked_camera</md-icon>
        <span>Caméra</span>
      </button>
    </md-card>
    <md-card [hidden]="!authService.isAdmin()">
      <md-card-subtitle>Administration</md-card-subtitle>
       <button md-menu-item>
        <md-icon>settings_remote</md-icon>
        <span>Gestion télécommande</span>
      </button>
      <button md-menu-item routerLink="/admin/users">
        <md-icon>account_box</md-icon>
        <span>Utilisateurs</span>
      </button>
    </md-card>
  </md-sidenav>
  <router-outlet></router-outlet>
</md-sidenav-container>
